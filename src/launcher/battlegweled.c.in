/**
   @file battlegweled.c

   Wrapper battlegweled launcher
   <p>
   Copyright (c) 2004 Nokia. All eigths reserved.

   @author Vesa Kuoppala <vesa.kuoppala@nomovok.com>
   @author André Moreira Magalhães <andre.magalhaes@indt.org.br>
*/

#include <stdio.h>
#include <unistd.h>

char *argh[] = { "@wrapperdir@/wrapper",
		 "@wrapperdir@/games/battlegweled.game",
		 NULL };

int main(int argc, char *argv[])
{
  argc=argc;
  argv=argv;
  FILE *pFile;
  
  pFile = fopen ("/usr/games/.gamewrapper/battlegweled.debug", "a");
  if (pFile) {
    fprintf (pFile, "app launched\n");
    fclose (pFile);
  }

  if (execv ("@wrapperdir@/wrapper", argh) == -1) {
    pFile = fopen ("/tmp/.gamewrapper/debug/battlegweled.debug", "a");
    if (pFile) {
      fprintf (pFile, "cannot execute wrapper\n");
      fclose (pFile);
    }
  }

  return 0;
}
